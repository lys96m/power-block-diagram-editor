# ADR 0001: 初期アーキテクチャの基本方針

- 日付: 2025-02-05
- ステータス: 提案中

## 背景
Power Block Diagram Editor の実装がこれから始まる段階で、採用するライブラリや構成を明文化し、後続の判断の起点とする。

## 決定
- フロントエンドは React + TypeScript + Vite の SPA とする。
- キャンバス/ダイアグラム管理に React Flow を採用する。
- UI コンポーネントとテーマ管理に MUI を採用する。
- 状態管理は当面 React コンテキスト + hooks を用い、複雑化した場合にのみ外部ステート管理ライブラリを再検討する。
- Lint/Format は ESLint + Prettier を使用し、スクリプト `npm run lint`, `npm run format` を公式フローとする。

## 根拠
- React Flow はノード/エッジ編集に特化し、ドラッグ・ズームなど基本機能を提供するため実装コストを削減できる。
- MUI はレイアウト/フォーム/テーマ機能が充実し、短期間で一貫した UI を構築できる。
- 現状の機能規模では軽量な状態管理で足りるため、初期コストを抑える。

## 影響
- 依存ライブラリは `package.json` に追加済み。今後の UI 実装は MUI/React Flow のパターンに従う。
- 状態管理の分離を意識し、サービス層と型定義を整理しておくこと。
- 大規模化に備えて ADR を継続的に追加する。

## 検討したが採用しなかった選択肢
- キャンバスライブラリを自前実装する: 基本機能の再発明となり工数が大きい。
- 初手から Zustand/Recoil などを入れる: 現状の規模では過剰で、複雑性が増す。
